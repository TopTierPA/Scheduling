<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Parent Page</title>
</head>
<body>
  <h1>Parent Page</h1>
  <iframe 
    id="map-iframe" 
    src="https://your-username.github.io/repository-name/" 
    style="width: 100%; height: 400px; border: 1px solid black;"
  ></iframe>

  <script>
    const mapIframe = document.getElementById('map-iframe');

    // Listen for messages from the iframe
    window.addEventListener('message', (event) => {
      // Optional security check
      // if (event.origin !== 'https://your-username.github.io') return;

      if (event.data.type === 'iframe-ready') {
        console.log('Iframe ready! Sending payload...');
        mapIframe.contentWindow.postMessage(
          { dealId: '33265', scheduleType: 'single' },
          '*' // change to iframe origin in production
        );
      }

      if (event.data.type === 'iframe-log') {
        console.log('Parent received from iframe:', event.data);
      }
    });
  </script>
</body>
</html>
